/* === RAMPET PWA – base + carrusel unificado + saldo compacto === */
:root{
  --primary-color:#007bff;
  --primary-hover:#0056b3;
  --success-color:#28a745;
  --danger-color:#dc3545;
  --warning-color:#ffc107;
  --background-color:#f0f2f5;
  --card-background:#ffffff;
  --text-color:#333;
  --light-text-color:#777;
  --border-color:#dee2e6;
  --box-shadow:0 4px 12px rgba(0,0,0,.08);

  /* Carrusel */
  --slide-h:240px;      /* alto de cada banner */
  --slide-w:80vw;       /* ancho relativo (muestra “un poquito” del siguiente) */
  --slide-max-w:380px;  /* tope en desktop/tablet */
  --wm-size:68%;        /* tamaño del sello en solo-texto */
  --wm-opacity:.12;     /* transparencia del sello */
}
@media (min-width:480px){ :root{ --slide-w:320px; } }

*{ box-sizing:border-box; }

body{
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;
  background:var(--background-color);
  color:var(--text-color);
  margin:0;
  padding:20px;
  display:flex;
  justify-content:center;
  align-items:flex-start;
  min-height:100vh;
}
.container{ width:100%; max-width:400px; padding:20px; }

/* Encabezado + logo */
header{ text-align:center; margin-bottom:16px; }
.logo{
  height: clamp(40px, 8vw, 54px);
  width:auto; display:block; margin:0 auto 8px;
}
h1{ font-size:1.8em; color:var(--primary-color); margin:0; }

h2{ font-size:1.5em; margin-bottom:10px; }
h3{ font-size:1.2em; border-bottom:2px solid var(--border-color); padding-bottom:10px; margin-top:0; }
p{ color:var(--light-text-color); line-height:1.6; }
ul{ list-style:none; padding:0; margin:0; }
label{ font-weight:600; color:var(--text-color); font-size:14px; margin-bottom:5px; display:block; }

/* Pantallas */
.screen{ display:none; animation:fadeIn .5s; }
.screen.active{ display:block; }
@keyframes fadeIn{ from{opacity:0; transform:translateY(10px);} to{opacity:1; transform:translateY(0);} }

/* Formularios */
.form-group{ display:flex; flex-direction:column; gap:15px; margin-bottom:20px; }
input[type="email"],input[type="password"],input[type="text"],input[type="tel"],input[type="date"]{
  width:100%; padding:15px; border:1px solid var(--border-color); border-radius:8px; font-size:16px;
}
.toggle-link{ text-align:center; font-size:14px; }
.toggle-link a{ color:var(--primary-color); font-weight:600; text-decoration:none; }

/* Checkbox términos */
.terms-container{ display:flex; align-items:center; gap:10px; }
.terms-container input[type="checkbox"]{ width:auto; }
.terms-container label{ font-weight:normal; font-size:14px; margin:0; }
.terms-container a{ color:var(--primary-color); text-decoration:underline; }

/* Botones */
.primary-btn,.secondary-btn{ border-radius:8px; cursor:pointer; font-weight:600; transition:background-color .2s,opacity .2s; }
.primary-btn{ background:var(--primary-color); color:#fff; padding:15px; font-size:16px; border:0; }
.primary-btn:hover{ background:var(--primary-hover); }
.secondary-btn{ background:none; border:1px solid var(--border-color); color:var(--text-color); padding:8px 15px; font-size:14px; }
button:disabled{ opacity:.6; cursor:not-allowed; }

/* Cards */
.card{ background:var(--card-background); padding:20px; border-radius:12px; box-shadow:var(--box-shadow); margin-bottom:20px; }
.puntos-card{ text-align:center; background:linear-gradient(45deg, var(--primary-color), #0056b3); color:#fff; }
.puntos-card p{ margin:0 0 5px; font-size:16px; color:rgba(255,255,255,.85); }
.puntos-card h2{ font-size:3em; margin:0; font-weight:700; }

.vencimiento-card{ background:var(--danger-color); color:#fff; text-align:center; }
.vencimiento-card p{ color:rgba(255,255,255,.9); margin:0; }
.vencimiento-card h2{ font-size:2.5em; margin:5px 0; }

/* Aviso términos */
.terms-banner{ background:var(--warning-color); padding:15px 20px; }
.terms-banner p{ color:var(--text-color); margin:0; font-weight:600; }
.terms-banner a{ color:var(--primary-hover); text-decoration:underline; cursor:pointer; }

/* Listas */
#lista-historial li,#lista-premios-cliente li{ display:flex; justify-content:space-between; align-items:center; padding:15px 0; border-bottom:1px solid var(--border-color); }
#lista-historial li:last-child,#lista-premios-cliente li:last-child{ border-bottom:none; }
#lista-historial .puntos{ font-weight:600; }
#lista-historial .puntos.ganados{ color:var(--success-color); }
#lista-historial .puntos.gastados{ color:var(--danger-color); }
#lista-premios-cliente .puntos-premio{ font-weight:600; color:var(--primary-color); }
#lista-premios-cliente li.no-canjeable{ opacity:.5; }
.info-message{ text-align:center; padding:10px; margin-top:10px; background:#f8f9fa; border-radius:8px; }

/* Toast */
#toast-container{ position:fixed; top:20px; right:20px; z-index:9999; }
.toast{ padding:15px 20px; border-radius:8px; color:#fff; font-weight:600; box-shadow:0 5px 15px rgba(0,0,0,.2); margin-bottom:10px; animation:slideIn .5s forwards; }
@keyframes slideIn{ from{ transform:translateX(100%); opacity:0; } to{ transform:translateX(0); opacity:1; } }
.toast.success{ background:var(--success-color); }
.toast.error{ background:var(--danger-color); }
.toast.info{ background:#17a2b8; }

/* Modal */
.modal-overlay{ display:none; position:fixed; inset:0; background:rgba(0,0,0,.6); justify-content:center; align-items:center; z-index:1000; padding:20px; }
.modal-content{ background:#fff; padding:30px; border-radius:12px; max-width:500px; width:100%; max-height:80vh; display:flex; flex-direction:column; }
.modal-close-btn{ align-self:flex-end; cursor:pointer; font-size:28px; color:#aaa; }
.terms-text-container{ overflow-y:auto; margin:10px 0 20px; }
.modal-content h2{ margin-top:0; }

/* Switch notificaciones */
.notif-setting{ display:flex; justify-content:space-between; align-items:center; }
.notif-setting p{ margin:0; padding-right:15px; }
.switch{ position:relative; display:inline-block; width:60px; height:34px; }
.switch input{ opacity:0; width:0; height:0; }
.slider{ position:absolute; cursor:pointer; inset:0; background:#ccc; transition:.4s; }
.slider:before{ content:""; position:absolute; height:26px; width:26px; left:4px; bottom:4px; background:#fff; transition:.4s; }
input:checked + .slider{ background:var(--success-color); }
input:focus + .slider{ box-shadow:0 0 1px var(--success-color); }
input:checked + .slider:before{ transform:translateX(26px); }
.slider.round{ border-radius:34px; }
.slider.round:before{ border-radius:50%; }

/* Paneles notificaciones */
#notif-prompt-card,#notif-card,#notif-blocked-warning{
  background:#FFFACD; border:1px solid #F0E68C; border-radius:12px;
}
#notif-prompt-card .prompt-actions{ display:flex; gap:10px; margin-top:15px; flex-wrap:wrap; }
#notif-prompt-card .prompt-actions .primary-btn,
#notif-prompt-card .prompt-actions .secondary-btn{ flex-grow:1; }

/* ===================== CARRUSEL (simple & estable) ===================== */
:root{
  --slide-h: 220px;      /* alto del contenedor */
  --slide-w: 86vw;       /* ancho relativo en móvil (se ve un poco la siguiente) */
  --slide-max-w: 360px;  /* tope en desktop */
  --wm-size: 68%;        /* tamaño del sello en slides de texto */
  --wm-opacity: .12;     /* transparencia del sello */
}

/* Contenedor / pista */
.carrusel-container{ margin-bottom:18px; }
.carrusel-container h3{ margin-bottom:10px; }

.carrusel{
  display:flex;
  gap:12px;
  overflow-x:auto;
  padding:8px 10px 12px;
  scroll-snap-type:x mandatory;      /* snap consistente en Edge/Chrome/Safari */
  scroll-padding-left:  calc((100% - min(var(--slide-w), var(--slide-max-w)))/2);
  scroll-padding-right: calc((100% - min(var(--slide-w), var(--slide-max-w)))/2);
  scroll-behavior:smooth;
  -webkit-overflow-scrolling:touch;
  scrollbar-width:none;
}
.carrusel::-webkit-scrollbar{ display:none; }

/* Slides – un tamaño para todos */
.carrusel .banner-item,
.carrusel .banner-item-texto{
  flex:0 0 var(--slide-w);
  max-width:var(--slide-max-w);
  height:var(--slide-h);
  border-radius:12px;
  overflow:hidden;
  box-shadow:var(--box-shadow);
  background:#fff;
  position:relative;
  scroll-snap-align:center;          /* centrado al soltar */
  scroll-snap-stop:always;
  user-select:none;                   /* evita selección rara al arrastrar */
  -webkit-user-drag:none;             /* safari */
  cursor:grab;                        /* mano tipo “arrastrar” */
}
.carrusel.arrastrando .banner-item,
.carrusel.arrastrando .banner-item-texto{
  cursor:grabbing;
}

/* Con imagen */
.banner-con-imagen{ position:relative; display:block; height:100%; }
.banner-con-imagen > img{
  width:100%; height:100%;
  object-fit: contain;    /* ← si querés ver la imagen COMPLETA usá: contain */
  display:block;
  border-radius:12px;
  background:#f8fafc;   /* “marco” neutro si la imagen es cuadrada y usás contain */
}

/* Overlay de texto SOLO sobre imagen */
.banner-con-imagen .banner-texto-overlay{
  position:absolute; left:0; right:0; bottom:0;
  padding:14px;
  background:linear-gradient(to top, rgba(0,0,0,.65), rgba(0,0,0,0));
  color:#fff; text-align:left;
}
.banner-con-imagen .banner-texto-overlay h4{ margin:0 0 4px; font-weight:700; }
.banner-con-imagen .banner-texto-overlay p{ margin:0; opacity:.95; }

/* Solo texto – sello + textos centrados de verdad */
.carrusel .banner-item-texto{
  display:flex; align-items:center; justify-content:center;
  text-align:center; padding:14px; isolation:isolate;
  background:#f8fafc;
}
.carrusel .banner-item-texto::before{
  content:""; position:absolute; inset:0; z-index:0; pointer-events:none;
  background:center / var(--wm-size) no-repeat url("images/mi_logo.png");
  opacity:var(--wm-opacity);
  filter:grayscale(1);
}
.carrusel .banner-item-texto > *{ position:relative; z-index:1; }
.carrusel .banner-item-texto h4{ margin:0 0 6px; color:var(--primary-color); }
.carrusel .banner-item-texto p{ margin:0; color:var(--text-color); }

/* Indicadores */
.carrusel-indicadores{ text-align:center; margin-top:6px; }
.carrusel-indicadores .indicador{
  display:inline-block; width:8px; height:8px; border-radius:50%;
  background:#ccc; margin:0 4px; cursor:pointer; transition:background-color .2s;
}
.carrusel-indicadores .indicador.activo{ background: var(--primary-color); }
/* ====================================================================== */


/* ===================== SALDO A FAVOR (compacto) ===================== */
#saldo-card{ padding:12px 14px; }
#saldo-card h3{ margin:0 0 4px; text-align:center; font-size:1rem; }
#cliente-saldo{ text-align:center; font-size:1.6rem; font-weight:800; margin:2px 0 8px; }
#saldo-card .info-message{ margin:6px 0 0; font-size:.9rem; }

/* Vencimientos – lista y mensaje vacío */
.venc-list{ margin:6px 0 0; padding-left:18px; }
.venc-list li{ font-size:.95em; color:#222; }
.vencimiento-card .venc-list li.venc-empty{ color:#fff; opacity:.95; font-weight:600; }

/* Utilidades */
#install-entrypoint{ margin-left:8px; }
#btn-notifs{ display:none; position:relative; }
#notif-counter{ display:none; position:absolute; top:-6px; right:-6px; background:#e11; color:#fff; border-radius:999px; padding:1px 6px; font:12px system-ui; }




